{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Cliente</title>
    <link rel="icon" type="image/png" href="{% static 'images/icons/favicon.ico' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'fonts/font-awesome-4.7.0/css/font-awesome.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/animate/animate.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/css-hamburgers/hamburgers.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/select2/select2.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/util.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/login.css' %}">
</head>
<body>

<div class="limiter">
    <div class="container-login100" style="flex-direction: column; gap: 2rem;">
        <div class="wrap-login100">
            <div class="login100-pic js-tilt" data-tilt>
                <img style="border-radius: 50%;" src="{% static 'img/dev122062_faz_uma_logo_parecida_com_ifood_para_uma_plataforma_c_a6720ce1-23ea-425a-9b63-d7921326b252.png' %}" alt="IMG">
            </div>

            <div class="login100-form validate-form">
                <span class="login100-form-title">
                    Registre-se Agora!
                </span>

                <form method="post" enctype="multipart/form-data" action="{% url 'registerCliente' %}">
                    {% csrf_token %}
                    <!-- Steps Here -->
                    <div id="step1" class="step" style="display: block;">
                        <div class="wrap-input100 validate-input" data-validate="Nome completo é necessário">
                            <input class="input100" type="text" name="nome" placeholder="Nome Completo">
                            <span class="focus-input100"></span>
                            <span class="symbol-input100">
                                <i class="fa fa-user" aria-hidden="true"></i>
                            </span>
                        </div>
                        <div class="wrap-input100 validate-input" data-validate="CPF é necessário">
                            <input class="input100" type="text" name="username" placeholder="CPF">
                            <span class="focus-input100"></span>
                            <span class="symbol-input100">
                                <i class="fa fa-id-card" aria-hidden="true"></i>
                            </span>
                        </div>
                        <div class="d-flex align-items-center" style="gap:1rem;">
                          <button type="button" onclick="showStep(2)">Próximo</button>
                      </div>
                    </div>

                    <div id="step2" class="step" style="display: none;">
                        <!-- Content for Step 2 -->
                        <div class="wrap-input100 validate-input" data-validate="Email válido é necessário: ex@abc.xyz">
                            <input class="input100" type="email" name="email" placeholder="Email">
                            <span class="focus-input100"></span>
                            <span class="symbol-input100">
                                <i class="fa fa-envelope" aria-hidden="true"></i>
                            </span>
                        </div>
                        <div class="wrap-input100 validate-input" data-validate="Telefone válido é necessário: (99) 99999-9999">
                          <input class="input100" type="text" name="telefone" placeholder="Telefone">
                          <span class="focus-input100"></span>
                          <span class="symbol-input100">
                              <i class="fa fa-phone" aria-hidden="true"></i>
                          </span>
                      </div>
                        <!-- More inputs here as needed -->
                        <div class="d-flex align-items-center" style="gap:1rem;">
                          <button type="button" onclick="showStep(1)">Anterior</button>
                          <button type="button" onclick="showStep(3)">Próximo</button>
                      </div>
                    </div>

                    <div id="step3" class="step" style="display: none;">
                      <div class="wrap-input100 validate-input" data-validate = "CEP is required">
                        <input class="input100" type="text" name="cep" id="cep" placeholder="CEP">
                        <span class="focus-input100"></span>
                        <span class="symbol-input100">
                            <i class="fa fa-home" aria-hidden="true"></i>
                        </span>
                    </div>
                    <div class="wrap-input100 validate-input" data-validate = "Endereço is required">
                        <input class="input100" type="text" name="endereco" id="endereco" placeholder="Endereço">
                        <span class="focus-input100"></span>
                        <span class="symbol-input100">
                            <i class="fa fa-road" aria-hidden="true"></i>
                        </span>
                    </div>
                    <div class="wrap-input100 validate-input" data-validate = "Logradouro is required">
                        <input class="input100" type="text" name="bairro" id="bairro" placeholder="Bairro">
                        <span class="focus-input100"></span>
                        <span class="symbol-input100">
                            <i class="fa fa-map-marker" aria-hidden="true"></i>
                        </span>
                    </div>
                    <div class="wrap-input100 validate-input" data-validate = "Número is required">
                        <input class="input100" type="text" name="numero" id="numero" placeholder="Número">
                        <span class="focus-input100"></span>
                        <span class="symbol-input100">
                            <i class="fa fa-building" aria-hidden="true"></i>
                        </span>
                    </div>
                    <div class="d-flex align-items-center" style="gap:1rem;">
                      <button type="button" onclick="showStep(2)">Anterior</button>
                      <button type="button" onclick="showStep(4)">Próximo</button>
                  </div>
                    </div>

                    <div id="step4" class="step" style="display: none;">
                      <!-- Content for Step 2 -->
                      <div class="wrap-input100 validate-input" data-validate="Senha é necessária">
                        <input class="input100" type="password" name="password1" placeholder="Senha">
                        <span class="focus-input100"></span>
                        <span class="symbol-input100">
                            <i class="fa fa-lock" aria-hidden="true"></i>
                        </span>
                    </div>
                    
                    <div class="wrap-input100 validate-input" data-validate="Confirmação de senha é necessária">
                        <input class="input100" type="password" name="password2" placeholder="Confirmar Senha">
                        <span class="focus-input100"></span>
                        <span class="symbol-input100">
                            <i class="fa fa-lock" aria-hidden="true"></i>
                        </span>
                    </div>
                      <!-- More inputs here as needed -->
                      <div class="d-flex align-items-center" style="gap:1rem;">
                        <button type="button" onclick="showStep(3)">Anterior</button>
                        <button type="submit">Enviar</button>
    
                        </div>
                  </div>

                 
                </form>
            </div>
            <a style="color: #fff !important; font-size: 1.2rem !important" href="{% url 'home' %}">Voltar</a>
        </div>
    </div>
</div>
<script>
        document.getElementById('cep').addEventListener('blur', function(e) {
            var cep = this.value.replace(/\D/g, '');
            if (cep.length === 8) {
                fetch(`https://viacep.com.br/ws/${cep}/json/`)
                .then(response => response.json())
                .then(data => {
                    if (!data.erro) {
                        document.getElementById('endereco').value = data.logradouro;
                        document.getElementById('bairro').value = data.bairro;
                        // O número geralmente não é fornecido pela API
                    } else {
                        alert("CEP não encontrado.");
                    }
                })
                .catch(() => alert("Erro ao buscar o CEP."));
            } else {
                alert("Formato de CEP inválido.");
            }
        });
    </script>
<script src="{% static 'vendor/jquery/jquery-3.2.1.min.js' %}"></script>
<script src="{% static 'vendor/bootstrap/js/popper.js' %}"></script>
<script src="{% static 'vendor/bootstrap/js/bootstrap.min.js' %}"></script>
<script src="{% static 'vendor/select2/select2.min.js' %}"></script>
<script src="{% static 'vendor/tilt/tilt.jquery.min.js' %}"></script>
<script src="{% static 'js/main.js' %}"></script>
<script>
    function showStep(stepNumber) {
        // Hide all steps
        var steps = document.querySelectorAll('.step');
        steps.forEach(function(step) {
            step.style.display = 'none';
        });

        // Show the current step
        var currentStep = document.getElementById('step' + stepNumber);
        if (currentStep) {
            currentStep.style.display = 'block';
        }
    }
</script>

</body>
</html>