{% extends 'core/base-dashboard.html' %}

{% block 'conteudo' %}
<div class="container d-flex flex-column" style="width:100%; max-width:60rem">
    <div class="d-flex flex-column align-items-center justify-content-center" style="min-height:100vh">
        {% if pedidos %} <h2>Pedidos Recebidos:</h2> {%endif%}
  
    {% if pedidos %}
        {% for pedido in pedidos %}
        {% if pedido.status == 'entregue' %}
        <div class="mt-4">
            <h4 style="color:#000">Pedido #{{ pedido.id }}</h4>
            <div class="d-flex justify-content-between">
                <p style="color:#333 !important">Cliente:</p>
                <span style="color:#333" class="fw-bold">{{ pedido.cliente.nome }}</span>
            </div>
            <div class="d-flex justify-content-between">
                <p style="color:#333">Pontos Ganhos:</p>
                <span style="color:#333;" class="fw-bold">{{ pedido.pontos }}</span>
            </div>
            <div class="d-flex justify-content-between">
                <p style="color:#333 !important;">Status:</p>
                <p style="color:#333 !important; text-transform:capitalize;" class="fw-bold">{{ pedido.status }}</p>
            </div>
            <div class="d-flex justify-content-between">
                <p style="color:#333 !important;">Meio de Pagamento:</p>
                {% if pedido.pagamento == 'pontos' %}
                <p style="color:#333 !important;" class="fw-bold">Pontos</p>
                {% else %}
                <p style="color:#333 !important;" class="fw-bold">Reais</p>
                {% endif %}
            </div>
            <div class="d-flex my-3 justify-content-between">
                <p class="mb-0" style="color:#333">Data do Pedido:</p>
                <span class="fw-bold" style="color:#333 !important;">{{ pedido.data }}</span>
            </div>
            <div class="d-flex my-3 justify-content-between">
                <p style="color:#333">Localização:</p>
                <span class="fw-bold" style="color:#333 !important;">{{ pedido.localizacao }}</span>
            </div>
            <div class="d-flex my-3 justify-content-between">
                <p style="color:#333">Total do Pedido:</p>
                <span class="fw-bold" style="color:#333 !important;">R$ {{ pedido.total }}</span>
            </div>

            <ul>
                <h4>Itens do Pedido:</h4>
                {% for item in pedido.itempedido_set.all %}
                <li style="color:#333">{{ item.produto.nome }} - Quantidade: {{ item.quantidade }}, Preço Unitário: R$ {{ item.preco_unitario }}</li>
                {% endfor %}
            </ul>
        </div>
        {% endif %}
        {% endfor %}
    {% else %}
    <div class="w-100 d-flex align-items-center justify-content-center" style="height:100% !important;">
        <h4 style=" color:#000 !important; ">Nenhum pedido entregue até o momento.</h4>
    </div>
    {% endif %}
</div>
</div>
{% endblock %}